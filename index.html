<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DID YOU FIND ME YET?</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: black;
            color: white;
            font-family: Arial, sans-serif;
        }
        .stars {
            width: 1px;
            height: 1px;
            background: transparent;
            box-shadow: 
                20px 20px white,
                30px 50px white,
                100px 100px white,
                150px 200px white,
                200px 250px white,
                250px 300px white,
                300px 350px white,
                350px 400px white,
                400px 450px white,
                450px 500px white,
                500px 550px white,
                550px 600px white,
                600px 650px white,
                650px 700px white,
                700px 750px white,
                750px 800px white,
                800px 850px white,
                850px 900px white,
                900px 950px white,
                950px 1000px white;
            animation: animStars 100s linear infinite;
        }
        .stars::after {
            content: ' ';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            box-shadow: 
                20px 20px white,
                30px 50px white,
                100px 100px white,
                150px 200px white,
                200px 250px white,
                250px 300px white,
                300px 350px white,
                350px 400px white,
                400px 450px white,
                450px 500px white,
                500px 550px white,
                550px 600px white,
                600px 650px white,
                650px 700px white,
                700px 750px white,
                750px 800px white,
                800px 850px white,
                850px 900px white,
                900px 950px white,
                950px 1000px white;
            animation: animStars 100s linear infinite;
        }
        @keyframes animStars {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(-2000px);
            }
        }
        #message {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        .centered {
            text-align: center;
            margin-top: 20%;
        }
        .form-group {
            margin-top: 20px;
        }
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; 
            background-color: rgb(0,0,0); 
            background-color: rgba(0,0,0,0.4); 
            padding-top: 60px; 
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="stars"></div>

    <div class="centered">
        <form id="myForm" onsubmit="return handleSubmit()">
            <input type="text" id="inputBox" placeholder="DID YOU FIND ME YET?">
            <input type="submit" value="Submit">
        </form>
        <div class="form-group">
            <button id="openFormBtn">Add Sequence</button>
        </div>
    </div>
    
    <div id="message"></div>

    <!-- The Modal -->
    <div id="sequenceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <form id="addSequenceForm" onsubmit="return handleAddSequence()">
                <label for="sequenceBox">Enter key sequence:</label>
                <input type="text" id="sequenceBox" placeholder="Enter key sequence" required>
                <br>
                <label for="messageBox">Enter corresponding message:</label>
                <input type="text" id="messageBox" placeholder="Enter corresponding message" required>
                <br>
                <input type="submit" value="Add Sequence">
            </form>
        </div>
    </div>

    <script>
        function alertUser(msg) {
            alert(msg);
        }
        alert('HEY YOU, I HOPE YOU ARE SMILING. YOUR SMILE BRINGS WARMTH TO THE WORLD <3');

        function handleSubmit() {
            var inputText = document.getElementById("inputBox").value;

            if (inputText.toLowerCase() === "hamster") {
                window.location.href = "https://open.anghami.com/FDBxsD2KwHb";
                return false;
            } else if (inputText.toLowerCase() === "nightsky") {
                window.location.href = "https://open.anghami.com/ub6v3jAbTHb";
                return false;
            } else if (inputText.toLowerCase() === "khafy") {
                window.location.href = "https://open.anghami.com/zKuc5LWBeLb";
                return false;
            } else {
                alert("-_-");
                return false;
            }
        }

        const sequences = {
          'my love': 'hey you! \n Thank you for being one of the greatest things that happened to my life! \n I will always love you genuinely. \n You light up my world in million ways.\n You are always on my mind and in my heart.\n I see you always.',
          'eyes':'your eyes sparkle and time stops...\n your eyes tear up and the world collapses...\n your eyes stare and my heart melts...\n your eyes...\n '
        };
        
        let currentSequence = '';
        
        document.addEventListener('keydown', (event) => {
            const key = event.key.toLowerCase();
            currentSequence += key;
            checkSequences();
        });

        function checkSequences() {
            for (const sequence in sequences) {
                if (currentSequence.endsWith(sequence)) {
                    displayMessage(sequences[sequence]);
                    currentSequence = ''; // Reset sequence to allow for multiple detections
                    break;
                }
            }
        }

        function displayMessage(message) {
            const messageElement = document.getElementById('message');
            let index = 0;
            messageElement.innerHTML = '';
            messageElement.style.display = 'block';

            const typeWriter = () => {
                if (index < message.length) {
                    messageElement.innerHTML += message.charAt(index);
                    index++;
                    setTimeout(typeWriter, 150);
                }
            };
            typeWriter();
        }

        function handleAddSequence() {
            const sequence = document.getElementById('sequenceBox').value.toLowerCase();
            const message = document.getElementById('messageBox').value;
            if (validateSequence(sequence)) {
                sequences[sequence] = message;
                alert('Sequence added successfully!');
                closeModal();
            } else {
                alert('Invalid sequence! Please ensure no key press is repeated.');
            }
            return false; // Prevent form from submitting the traditional way
        }

        function validateSequence(sequence) {
            const chars = new Set();
            for (let char of sequence) {
                if (chars.has(char)) {
                    return false; // Duplicate character found
                }
                chars.add(char);
            }
            return true; // No duplicates
        }

        // Modal functionality
        const modal = document.getElementById("sequenceModal");
        const btn = document.getElementById("openFormBtn");

        btn.onclick = function() {
            modal.style.display = "block";
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>
</html>
